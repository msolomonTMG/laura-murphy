$Crabapple.TriforceModule_ent_m177={parentController:'$Crabapple.TriforceModule',extension:{viewName:'$Crabapple.TriforceView_ent_m177',addEvents:function(){this.moduleElement.on('click','a',function(){if($Crabapple.repo){$Crabapple.repo.trackModuleClickThrough('ENT_M177',this.href);}});var _this=this,scroll=0,$rightRail=_this.moduleElement,$rightRailWrap=$rightRail.find('.s_right_rail_sticky'),$listWrapper=$rightRailWrap.find('.list_wrapper');this.setHpRightRail();$(window).off('touchmove.hpRightRail scroll.hpRightRail resize.hpRightRail orientationchange.hpRightRail').on('touchmove.hpRightRail scroll.hpRightRail resize.hpRightRail orientationchange.hpRightRail',function(){if(_this.checkRightRailPositionTimeoutId){clearTimeout(_this.checkHeaderPositionTimeoutId);}
_this.checkRightRailPositionTimeoutId=setTimeout(function(){_this.setHpRightRail();},5);});$rightRail.find('.list_header').on('click',function(){if($rightRail.hasClass('is_hidden')){if($rightRail.hasClass('open')){$rightRail.addClass('animating');$('body').css({'position':'static'}).scrollTop(scroll);$rightRailWrap.stop().animate({height:50+'px'},500,function(){$rightRail.removeClass('open');$rightRail.removeClass('animating');$rightRailWrap.removeAttr('style');$listWrapper.removeAttr('style');});}else{scroll=$('body').scrollTop();$rightRail.addClass('animating');$rightRailWrap.stop().animate({height:window.innerHeight},500,function(){$rightRail.addClass('open');$rightRail.removeClass('animating');$('body').css('position','fixed');});}}});},setHpRightRail:function(){var _this=this,$window=$(window),$rightRail=_this.moduleElement,$rightRailWrap=$rightRail.find('.s_right_rail_sticky'),$listWrapper=$rightRailWrap.find('.list_wrapper'),$tier=$('#tier_2.tier_2_col'),$tierColLeft=$tier.find('#t2_lc'),$tierColRight=$tier.find('#t2_rc'),$tierColRightHeight,scroll,height,parentHeight,parentTop,offset,willBottom,tierWidth;if(window.innerWidth>=980){scroll=$window.scrollTop();height=$rightRailWrap.outerHeight(true);offset=50;if($tier.length>0){parentHeight=$tier.outerHeight(true);parentTop=$tier.offset().top;willBottom=scroll+height+offset>parentHeight+parentTop;$tierColRightHeight=295+height;tierWidth=$tierColRight.width()-26;if($tierColLeft.outerHeight(true)<$tierColRightHeight){$tierColLeft.css('min-height',$tierColRightHeight);}
if($rightRail[0].getBoundingClientRect().top<=49){if(willBottom){$rightRail.removeClass('is_stuck is_hidden open').addClass('is_bottomed');$rightRailWrap.removeAttr('style');$listWrapper.removeAttr('style');$('body').css('position','static');}else{$rightRail.removeClass('is_bottomed is_hidden open').addClass('is_stuck');$rightRailWrap.removeAttr('style');$('body').css('position','static');$listWrapper.css('width',tierWidth);}}else{$rightRail.removeClass('is_stuck is_hidden open');$rightRailWrap.removeAttr('style');$listWrapper.removeAttr('style');$('body').css('position','static');}}}else{$rightRail.removeClass('is_stuck is_bottomed').addClass('is_hidden');$tierColLeft.css('min-height',0);if(!$rightRail.hasClass('open')){$rightRailWrap.removeAttr('style');$listWrapper.removeAttr('style');}else{$rightRailWrap.css('height',window.innerHeight+'px');}}},onModuleDestroy:function(){var _this=this,$rightRail=_this.moduleElement,$rightRailWrap=$rightRail.find('.s_right_rail_sticky'),$listWrapper=$rightRailWrap.find('.list_wrapper'),$tier=$('#tier_2.tier_2_col'),$tierColLeft=$tier.find('#t2_lc'),$tierColRight=$tier.find('#t2_rc');$rightRail.removeClass('is_stuck is_bottomed is_hidden');$tierColLeft.removeAttr('style');$tierColRight.removeAttr('style');$rightRailWrap.removeAttr('style');$listWrapper.removeAttr('style');$('body').removeAttr('style');}}};$Crabapple.TriforceView_ent_m177={'parentView':'$Crabapple.TriforceMustacheView','extention':{templateName:'Modules/ENT_M177/V8_0_0/Controller/default'}};(function(name){this.$Crabapple=this.$Crabapple||{};this.$Crabapple.TriforceTemplates=this.$Crabapple.TriforceTemplates||{};this.$Crabapple.TriforceTemplates[name]=this.$Crabapple.TriforceTemplates[name]||new Hogan.Template({code:function(c,p,i){var t=this;t.b(i=i||"");if(t.s(t.f("data",c,p,1),c,p,0,9,1183,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<div class=\"module_content s_container L002_line_list_vertical s_right_rail_sticky\"><div class=\"list_wrapper\" style=\"width: 401px;\">");if(t.s(t.f("headerText",c,p,1),c,p,0,156,247,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<div class=\"list_header section-header-md\"><span class=\"icon-chevron-up\"></span>");t.b(t.v(t.d(".",c,p,0)));t.b("</div>");});c.pop();}t.b("<div class=\"toggleable_module_content\"><ul class=\"L001_line_list L001_line_list_vertical s_layouts_lineList s_resets_oldDom_ul\">");if(t.s(t.f("items",c,p,1),c,p,0,400,1008,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<li class=\"S002_line_list_item_vertical s_layouts_lineListItem s_layouts_lineListVideoItem\">");if(t.s(t.f("url",c,p,1),c,p,0,500,537,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<a class=\"link_wrapper\" href=\"");t.b(t.v(t.d(".",c,p,0)));t.b("\">");});c.pop();}t.b("<div class=\"thumbnail_holder s_layouts_lineListItemImageWrapper\">");t.b(t.rp("<common/image0",c,p,""));if(t.s(t.f("duration",c,p,1),c,p,0,642,698,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<div class=\"s_layouts_lineListDurationBadge\">");t.b(t.v(t.d(".",c,p,0)));t.b("</div>");});c.pop();}t.b("</div><div class=\"s_layouts_lineListMetaWrapper\">");if(t.s(t.f("header",c,p,1),c,p,0,771,843,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<h3 class=\"s_fonts_lineListHeader s_layouts_lineListHeader\">");t.b(t.t(t.d(".",c,p,0)));t.b("</h3>");});c.pop();}if(t.s(t.f("title",c,p,1),c,p,0,864,914,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<p class=\"s_fonts_lineListDescription\">");t.b(t.t(t.d(".",c,p,0)));t.b("</p>");});c.pop();}if(t.s(t.f("airDate",c,p,1),c,p,0,936,965,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<div class=\"meta\">");t.b(t.v(t.d(".",c,p,0)));t.b("</div>");});c.pop();}t.b("</div>");if(t.s(t.f("url",c,p,1),c,p,0,991,995,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("</a>");});c.pop();}t.b("</li>");});c.pop();}t.b("</ul>");if(t.s(t.f("button",c,p,1),c,p,0,1034,1154,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<div class=\"s_layouts_buttonWrapper\"><a href=\"");t.b(t.v(t.f("url",c,p,0)));t.b("\" class=\"s_buttons_button s_buttons_buttonArrow\">");t.b(t.v(t.f("text",c,p,0)));t.b("</a></div>");});c.pop();}t.b("</div></div></div>");});c.pop();}return t.fl();},partials:{"<common/image0":{name:"common/image",partials:{},subs:{}}},subs:{}});}).call(this,"Modules/ENT_M177/V8_0_0/Controller/default");